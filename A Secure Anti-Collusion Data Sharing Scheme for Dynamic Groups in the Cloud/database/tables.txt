CREATE DATABASE CI16CC029;

CREATE TABLE group_manager(USERNAME VARCHAR(15),PASSWORD VARCHAR(15));
INSERT INTO group_manager VALUES('gm','gm');

CREATE TABLE cloud(USERNAME VARCHAR(15),PASSWORD VARCHAR(15));
INSERT INTO cloud VALUES('cloud','cloud');


CREATE TABLE groups (
  SI_NO INT(11) NOT NULL AUTO_INCREMENT,
  groupname VARCHAR(50) NOT NULL,
  PRIMARY KEY (SI_NO),
  UNIQUE KEY groupname (groupname )
); 

CREATE TABLE FILE(
s_no INT(11) NOT NULL AUTO_INCREMENT,
uploadby VARCHAR(50) NOT NULL,
group_name VARCHAR(50) NOT NULL,
filename VARCHAR(50) NOT NULL,
content BLOB,
publickey VARCHAR(50) NOT NULL,
upload_date DATETIME,
rank INT NOT NULL,
PRIMARY KEY(s_no)
);

CREATE TABLE USER (
  user_id INT(11) NOT NULL AUTO_INCREMENT,
  first_name VARCHAR(30) NOT NULL,
  last_name VARCHAR(30) NOT NULL,
  date_of_birth DATE NOT NULL,
  email VARCHAR(50) NOT NULL,
  location VARCHAR(30) NOT NULL,
  PASSWORD VARCHAR(10) NOT NULL,
  STATUS VARCHAR(30) NOT NULL,
  PRIMARY KEY (user_id),
  UNIQUE KEY  (email),
  UNIQUE KEY  (PASSWORD)
);



CREATE TABLE TRANSACTION (
  id INT(11) NOT NULL AUTO_INCREMENT,
  USER VARCHAR(50) NOT NULL,
  group_name VARCHAR(50) NOT NULL,
  filename VARCHAR(50) NOT NULL,
  date_time DATETIME,
  TRANSACTION VARCHAR(50) NOT NULL,
  PRIMARY KEY (id)
); 

CREATE TABLE revokeduser (
  user_id INT(11) NOT NULL,
  username VARCHAR(50) NOT NULL,
  groupname VARCHAR(50) NOT NULL,
  revokeddate DATETIME
); 

CREATE TABLE request (
  file_id INT(11) NOT NULL,
  user_email VARCHAR(50) NOT NULL,
  request_date DATETIME,
  STATUS VARCHAR(50) NOT NULL
); 